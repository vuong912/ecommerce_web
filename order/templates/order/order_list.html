{% extends 'customer_base.html' %}
{% load static %}
{% load humanize %}
{% block content %}
<section class="dashboard section">
	<!-- Container Start -->
	<div class="container">
		<!-- Row Start -->
		<div class="row">
			
			<div class="col-md-12">
				<!-- Recently Favorited -->
				<div class="widget dashboard-container my-adslist">
					<h3 class="widget-header">ĐƠN HÀNG CỦA TÔI</h3>
					<table class="table  product-dashboard-table">
						<thead>
							<tr>
                                <th scope="col">Mã đơn hàng</th>
                                <th scope="col">Ngày mua</th>
                                <th scope="col">Địa chỉ</th>
                                <th scope="col">Tổng tiền</th>
                                <th scope="col">Trạng thái</th>
                                
							</tr>
						</thead>
						<tbody>
                            {% for item in pager %}
							<tr>
                                <!--Mã đơn hàng-->
								<td class="product-thumb">
									<form method="POST">
										{% csrf_token %}
										<input name="id_order" type="text" value="{{item.id}}" hidden>
										<input name="function" type="text" value="order_detail" hidden>
										<button class="btn-submit-code-order" type="submit"><strong>{{item.id}}</strong></button>
									</form>
                                </td>
                                <!--Ngày mua-->
								<td>
									<p class="price-order">{{item.created_date}}</p>
								</td>
                                <!--Địa chỉ-->
								<td class=" product-collum-order">
                                    <p class="price-order"><strong>{{item.name}}</strong></p>
                                </td>
                                <!--Giá tiền-->
								<td >
									<p class="price-order">{{item.price|floatformat:0}} VNĐ</p>
								</td>
                                <!--Trạng thái-->
                                <td class="status-order">
                                    <p class="price-order">{{item.status}}</p>
                                </td>
								<!--Hủy đơn hàng-->
								{% ifequal item.status_code '1' %}
								<td>                                   
                                    <form method="post">
										{% csrf_token %}
										<div class="checkout_btn_inner d-flex align-items-center">
											<input name="id_order" type="text" value="{{item.id}}" hidden>
											<input name="function" type="text" value="cancel_order" hidden>
											<button class="cancel-order-btn" type="submit">Hủy đơn</button>
										</div>
									</form>
                                </td>
								{% endifequal %}
							</tr>
							{% endfor %}
						</tbody>
					</table>

				</div>

				<!-- pagination -->
				<div class="pagination justify-content-center">
					<nav aria-label="Page navigation example">
						<ul class="pagination">
							{% if pager.has_previous %}
                            <li class="page-item">
                                <a class="page-link" href="?page={{pager.number|add:-1}}" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                    <span class="sr-only">Previous</span>
                                </a>
                            </li>
                            {% endif %}
							{% for page_index in page_navigator %}
								{% ifequal page_index pager.number %}
                                	<li class="page-item active"><a class="page-link" href="?page={{ page_index }}">{{page_index}}</a></li>
                                {% else %}
                                	<li class="page-item"><a class="page-link" href="?page={{ page_index }}">{{page_index}}</a></li>
                                {% endifequal %}
							{% endfor %}
							{% if pager.has_next %}
                            <li class="page-item">
                                <a class="page-link" href="?page={{pager.number|add:1}}" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                    <span class="sr-only">Next</span>
                                </a>
                            </li>
                            {% endif %}
						</ul>
					</nav>
				</div>
				<!-- pagination -->

			</div>
		</div>
		<!-- Row End -->
	</div>
	<!-- Container End -->
</section>
{% endblock %}

{% block js %}

{% endblock %}